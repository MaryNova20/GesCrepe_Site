<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">


    <h:form>
        <p:growl id="gl" showDetail="true" showSummary="true" /> 
        <div style="height: 450px" class="layout-portlets-box">
            <p:panel style="height: 100px" header="DEMANDES APPROUVEES "  >
                  <p:fieldset toggleable="true" >
                        <h:panelGrid columns="5">
                             <p:outputLabel value="Date debut" for="date1"/>
                             <p:calendar value="#{demandeMBean.date1}" 
                                    id="date1"   pattern="dd/MM/yyyy" mask="true"
                                    showOn="button" styleClass="inputDate"/>
                         <p:outputLabel value="Date fin" for="date2"/>
                         <p:calendar value="#{demandeMBean.date2}" 
                                    id="date2"   pattern="dd/MM/yyyy" mask="true"
                                    showOn="button" styleClass="inputDate"/>
                         <p:commandButton actionListener="#{demandeMBean.aproSystematiq()}" update="@form" value="valider" />
                        </h:panelGrid>
                    </p:fieldset>
            </p:panel> 
            
            <div class="boutondiv">
                    <p:commandButton value="Imprimer" icon="ui-icon-print" action="#{demandeMBean.imprimeraproSystematiq()}" oncomplete="PF('dialogueAfficherPdf').show()" />

                </div>
                <div style="margin-top: 10px" class="ftitle">
                    <center>
                        <h:outputLabel value="Liste des demandes"/>
                    </center>
                </div>
                
            <p:dataTable paginator="true" rows="2" paginatorPosition="top" scrollHeight="250" scrollable="true" value="#{demandeMBean.aprobSystematiqlist}" var="item">
                
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Indice"/>
                        </f:facet>
                        <h:outputText value="#{item.matricule}">
                        </h:outputText>
                     </p:column>
                    
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="nom et prenoms"/>
                        </f:facet>
                        <h:outputText value="#{item.nomprenom}"/>
                     </p:column>
                    
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="salaire"/>
                        </f:facet>
                        <h:outputText value="#{item.salaire}"/>
                     </p:column>
                    
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="date demande"/>
                        </f:facet>
                        <h:outputText value="#{item.datedemande}"/>
                     </p:column>
                    
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Objet"/>
                        </f:facet>
                        <h:outputText value="#{item.objetcredit}"/>
                     </p:column>
                    
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="garantie"/>
                        </f:facet>
                        <h:outputText value="#{item.garantie}"/>
                     </p:column>
                    
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="montant demande"/>
                        </f:facet>
                        <h:outputText value="#{item.valeur}">
                        </h:outputText>
                     </p:column>
                    
                   
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="quotite du pret"/>
                        </f:facet>
                        <h:outputText value="#{item.quotitecredit}"/>
                     </p:column>
                 
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="quotite total"/>
                        </f:facet>
                        <h:outputText value="#{item.quotitetotal}"/>
                     </p:column>
                  <p:column>
                        <f:facet name="header">
                            <h:outputText value="Type credit"/>
                        </f:facet>
                      <h:outputText value="#{item.categorie}"/>
                     </p:column>
                </p:dataTable>
            
        </div>  
  <ui:include src="../dialogs/dlgAffichePdf.xhtml"/>
   </h:form>         
</ui:composition>
            